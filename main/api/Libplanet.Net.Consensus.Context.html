<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class Context
 | Libplanet </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class Context
 | Libplanet ">
  
    <link rel="shortcut icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
  
  
  
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Libplanet.Net.Consensus.Context">


  <h1 id="Libplanet_Net_Consensus_Context" data-uid="Libplanet.Net.Consensus.Context" class="text-break">Class Context
</h1>
  <div class="markdown level0 summary"><p>A state machine class of PBFT consensus algorithm. The state machine is responsible for
proposing, validating, voting a block and committing the voted block to the blockchain.
There are five states:</p>
<ul><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Default">Default</a> which is the initial state when
the <a class="xref" href="Libplanet.Net.Consensus.Context.html#Libplanet_Net_Consensus_Context_Start_Libplanet_Types_Blocks_BlockCommit_">Start(BlockCommit)</a> is not called (i.e., round has not been started).
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Propose">Propose</a>, which is the state when
the round has been started and waiting for the block proposal. If a validator is a
proposer of the round, it will propose a block to the other validators and to
itself.
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a>, which is the state when a block
proposal for a round has been received. While translating to this step, state
machine votes for the block whether block is valid or not, and waiting for any +2/3
votes from other validators.
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreCommit">PreCommit</a>, which is the state received
any +2/3 votes in <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a>. While
translating to this step, state machine votes for whether the block should be
committed or not, and waiting for any +2/3 committing votes from other validators.
If <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreCommit">PreCommit</a>
receives +2/3 commit votes with NIL, starts new round <span class="xref">Libplanet.Net.Consensus.Context.StartRound(System.Int32)</span> and
moves step to <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Propose">Propose</a>.
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_EndCommit">EndCommit</a>, which is the state represents
committing vote has been received from other validators. Block will be committed
to the blockchain and consensus for this height is stopped. (responsibility of next
height handling is at <a class="xref" href="Libplanet.Net.Consensus.ConsensusContext.html">ConsensusContext</a>).
</li><li>
    In the above states, <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Propose">Propose</a>, If
    receiving proposal fails in <span class="xref">Libplanet.Net.Consensus.Context.TimeoutPropose(System.Int64)</span>, then step is moved to
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a> and vote NIL.
</li><li>
    Similar to Propose, <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a> and
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreCommit">PreCommit</a> also wait for
<span class="xref">Libplanet.Net.Consensus.Context.TimeoutPreVote(System.Int64)</span> or <span class="xref">Libplanet.Net.Consensus.Context.TimeoutPreCommit(System.Int64)</span> respectively,
if +2/3 vote received but neither NIL nor Block is not +2/3. If still +2/3 vote is
not received neither NIL nor Block after timeout runs out, then move to next step
and vote NIL.
</li></ul>
Validators are bonding/bonded nodes that participate in the consensus.
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">Object</a></div>
    <div class="level1"><span class="xref">Context</span></div>
  </div>
  <div class="implements">
    <h5>Implements</h5>
    <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable">IDisposable</a></div>
  </div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">Object.Equals(Object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">Object.Equals(Object, Object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode#system-object-gethashcode">Object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype#system-object-gettype">Object.GetType()</a>
    </div>
    <div>
      <span class="xref">System.Object.MemberwiseClone()</span>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals#system-object-referenceequals(system-object-system-object)">Object.ReferenceEquals(Object, Object)</a>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Libplanet.Net.Consensus.html">Libplanet.Net.Consensus</a></h6>
  <h6><strong>Assembly</strong>: Libplanet.Net.dll</h6>
  <h5 id="Libplanet_Net_Consensus_Context_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class Context : IDisposable</code></pre>
  </div>
  <h5 id="Libplanet_Net_Consensus_Context_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>A <a class="xref" href="Libplanet.Net.Consensus.Context.html">Context</a> represents a consensus of a single height and its multiple
rounds.</p>
</div>
  <h3 id="constructors">Constructors
</h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/planetarium/libplanet/new/main/apiSpec/new?filename=Libplanet_Net_Consensus_Context__ctor_Libplanet_Net_Consensus_IConsensusMessageCommunicator_Libplanet_Blockchain_BlockChain_System_Int64_Libplanet_Crypto_PrivateKey_Libplanet_Types_Consensus_ValidatorSet_Libplanet_Net_Consensus_ContextTimeoutOption_.md&amp;value=---%0Auid%3A%20Libplanet.Net.Consensus.Context.%23ctor(Libplanet.Net.Consensus.IConsensusMessageCommunicator%2CLibplanet.Blockchain.BlockChain%2CSystem.Int64%2CLibplanet.Crypto.PrivateKey%2CLibplanet.Types.Consensus.ValidatorSet%2CLibplanet.Net.Consensus.ContextTimeoutOption)%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/planetarium/libplanet/blob/main/Libplanet.Net/Consensus/Context.cs/#L131">View Source</a>
  </span>
  <a id="Libplanet_Net_Consensus_Context__ctor_" data-uid="Libplanet.Net.Consensus.Context.#ctor*"></a>
  <h4 id="Libplanet_Net_Consensus_Context__ctor_Libplanet_Net_Consensus_IConsensusMessageCommunicator_Libplanet_Blockchain_BlockChain_System_Int64_Libplanet_Crypto_PrivateKey_Libplanet_Types_Consensus_ValidatorSet_Libplanet_Net_Consensus_ContextTimeoutOption_" data-uid="Libplanet.Net.Consensus.Context.#ctor(Libplanet.Net.Consensus.IConsensusMessageCommunicator,Libplanet.Blockchain.BlockChain,System.Int64,Libplanet.Crypto.PrivateKey,Libplanet.Types.Consensus.ValidatorSet,Libplanet.Net.Consensus.ContextTimeoutOption)">Context(IConsensusMessageCommunicator, BlockChain, Int64, PrivateKey, ValidatorSet, ContextTimeoutOption)</h4>
  <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="Libplanet.Net.Consensus.Context.html">Context</a> class.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Context(IConsensusMessageCommunicator consensusMessageCommunicator, BlockChain blockChain, long height, PrivateKey privateKey, ValidatorSet validators, ContextTimeoutOption contextTimeoutOptions)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Libplanet.Net.Consensus.IConsensusMessageCommunicator.html">IConsensusMessageCommunicator</a></td>
        <td><span class="parametername">consensusMessageCommunicator</span></td>
        <td><p>A communicator for receiving
<a class="xref" href="Libplanet.Net.Messages.ConsensusMsg.html">ConsensusMsg</a> from or publishing to other validators.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Libplanet.Blockchain.BlockChain.html">BlockChain</a></td>
        <td><span class="parametername">blockChain</span></td>
        <td><p>A blockchain that will be committed, which
will be voted by consensus, and used for proposing a block.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Int64</span></td>
        <td><span class="parametername">height</span></td>
        <td><p>A target <a class="xref" href="Libplanet.Net.Consensus.Context.html#Libplanet_Net_Consensus_Context_Height">Height</a> of the consensus state.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Libplanet.Crypto.PrivateKey.html">PrivateKey</a></td>
        <td><span class="parametername">privateKey</span></td>
        <td><p>A private key for signing a block and message.
<span class="xref">Libplanet.Net.Consensus.Context.GetValue</span>
<span class="xref">Libplanet.Net.Consensus.Context.ProcessGenericUponRules</span>
<span class="xref">Libplanet.Net.Consensus.Context.MakeVote(System.Int32,Libplanet.Types.Blocks.BlockHash,Libplanet.Types.Consensus.VoteFlag)</span></p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Libplanet.Types.Consensus.ValidatorSet.html">ValidatorSet</a></td>
        <td><span class="parametername">validators</span></td>
        <td><p>The <a class="xref" href="Libplanet.Types.Consensus.ValidatorSet.html">ValidatorSet</a> for
given <code data-dev-comment-type="paramref" class="paramref">height</code>.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Libplanet.Net.Consensus.ContextTimeoutOption.html">ContextTimeoutOption</a></td>
        <td><span class="parametername">contextTimeoutOptions</span></td>
        <td><p>A <a class="xref" href="Libplanet.Net.Consensus.ContextTimeoutOption.html">ContextTimeoutOption</a> for
configuring a timeout for each <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html">ConsensusStep</a>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Libplanet_Net_Consensus_Context__ctor_Libplanet_Net_Consensus_IConsensusMessageCommunicator_Libplanet_Blockchain_BlockChain_System_Int64_Libplanet_Crypto_PrivateKey_Libplanet_Types_Consensus_ValidatorSet_Libplanet_Net_Consensus_ContextTimeoutOption__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>A <a class="xref" href="Libplanet.Net.Consensus.Context.html">Context</a> represents a consensus of a single height and its multiple
rounds.</p>
</div>
  <h3 id="properties">Properties
</h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/planetarium/libplanet/new/main/apiSpec/new?filename=Libplanet_Net_Consensus_Context_Height.md&amp;value=---%0Auid%3A%20Libplanet.Net.Consensus.Context.Height%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/planetarium/libplanet/blob/main/Libplanet.Net/Consensus/Context.cs/#L210">View Source</a>
  </span>
  <a id="Libplanet_Net_Consensus_Context_Height_" data-uid="Libplanet.Net.Consensus.Context.Height*"></a>
  <h4 id="Libplanet_Net_Consensus_Context_Height" data-uid="Libplanet.Net.Consensus.Context.Height">Height</h4>
  <div class="markdown level1 summary"><p>A target height of this consensus state. This is also a block index now in consensus.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public long Height { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int64</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Libplanet_Net_Consensus_Context_Height_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>A <a class="xref" href="Libplanet.Net.Consensus.Context.html">Context</a> represents a consensus of a single height and its multiple
rounds.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/planetarium/libplanet/new/main/apiSpec/new?filename=Libplanet_Net_Consensus_Context_Proposal.md&amp;value=---%0Auid%3A%20Libplanet.Net.Consensus.Context.Proposal%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/planetarium/libplanet/blob/main/Libplanet.Net/Consensus/Context.cs/#L222">View Source</a>
  </span>
  <a id="Libplanet_Net_Consensus_Context_Proposal_" data-uid="Libplanet.Net.Consensus.Context.Proposal*"></a>
  <h4 id="Libplanet_Net_Consensus_Context_Proposal" data-uid="Libplanet.Net.Consensus.Context.Proposal">Proposal</h4>
  <div class="markdown level1 summary"><p>A state machine class of PBFT consensus algorithm. The state machine is responsible for
proposing, validating, voting a block and committing the voted block to the blockchain.
There are five states:</p>
<ul><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Default">Default</a> which is the initial state when
the <a class="xref" href="Libplanet.Net.Consensus.Context.html#Libplanet_Net_Consensus_Context_Start_Libplanet_Types_Blocks_BlockCommit_">Start(BlockCommit)</a> is not called (i.e., round has not been started).
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Propose">Propose</a>, which is the state when
the round has been started and waiting for the block proposal. If a validator is a
proposer of the round, it will propose a block to the other validators and to
itself.
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a>, which is the state when a block
proposal for a round has been received. While translating to this step, state
machine votes for the block whether block is valid or not, and waiting for any +2/3
votes from other validators.
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreCommit">PreCommit</a>, which is the state received
any +2/3 votes in <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a>. While
translating to this step, state machine votes for whether the block should be
committed or not, and waiting for any +2/3 committing votes from other validators.
If <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreCommit">PreCommit</a>
receives +2/3 commit votes with NIL, starts new round <span class="xref">Libplanet.Net.Consensus.Context.StartRound(System.Int32)</span> and
moves step to <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Propose">Propose</a>.
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_EndCommit">EndCommit</a>, which is the state represents
committing vote has been received from other validators. Block will be committed
to the blockchain and consensus for this height is stopped. (responsibility of next
height handling is at <a class="xref" href="Libplanet.Net.Consensus.ConsensusContext.html">ConsensusContext</a>).
</li><li>
    In the above states, <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Propose">Propose</a>, If
    receiving proposal fails in <span class="xref">Libplanet.Net.Consensus.Context.TimeoutPropose(System.Int64)</span>, then step is moved to
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a> and vote NIL.
</li><li>
    Similar to Propose, <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a> and
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreCommit">PreCommit</a> also wait for
<span class="xref">Libplanet.Net.Consensus.Context.TimeoutPreVote(System.Int64)</span> or <span class="xref">Libplanet.Net.Consensus.Context.TimeoutPreCommit(System.Int64)</span> respectively,
if +2/3 vote received but neither NIL nor Block is not +2/3. If still +2/3 vote is
not received neither NIL nor Block after timeout runs out, then move to next step
and vote NIL.
</li></ul>
Validators are bonding/bonded nodes that participate in the consensus.
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Proposal Proposal { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Libplanet.Consensus.Proposal.html">Proposal</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Libplanet_Net_Consensus_Context_Proposal_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>A <a class="xref" href="Libplanet.Net.Consensus.Context.html">Context</a> represents a consensus of a single height and its multiple
rounds.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/planetarium/libplanet/new/main/apiSpec/new?filename=Libplanet_Net_Consensus_Context_Round.md&amp;value=---%0Auid%3A%20Libplanet.Net.Consensus.Context.Round%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/planetarium/libplanet/blob/main/Libplanet.Net/Consensus/Context.cs/#L215">View Source</a>
  </span>
  <a id="Libplanet_Net_Consensus_Context_Round_" data-uid="Libplanet.Net.Consensus.Context.Round*"></a>
  <h4 id="Libplanet_Net_Consensus_Context_Round" data-uid="Libplanet.Net.Consensus.Context.Round">Round</h4>
  <div class="markdown level1 summary"><p>A round represents of this consensus state.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int Round { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">Int32</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Libplanet_Net_Consensus_Context_Round_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>A <a class="xref" href="Libplanet.Net.Consensus.Context.html">Context</a> represents a consensus of a single height and its multiple
rounds.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/planetarium/libplanet/new/main/apiSpec/new?filename=Libplanet_Net_Consensus_Context_Step.md&amp;value=---%0Auid%3A%20Libplanet.Net.Consensus.Context.Step%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/planetarium/libplanet/blob/main/Libplanet.Net/Consensus/Context.cs/#L220">View Source</a>
  </span>
  <a id="Libplanet_Net_Consensus_Context_Step_" data-uid="Libplanet.Net.Consensus.Context.Step*"></a>
  <h4 id="Libplanet_Net_Consensus_Context_Step" data-uid="Libplanet.Net.Consensus.Context.Step">Step</h4>
  <div class="markdown level1 summary"><p>A step represents of this consensus state. See <a class="xref" href="Libplanet.Net.Consensus.Context.html">Context</a> for more detail.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ConsensusStep Step { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html">ConsensusStep</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Libplanet_Net_Consensus_Context_Step_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>A <a class="xref" href="Libplanet.Net.Consensus.Context.html">Context</a> represents a consensus of a single height and its multiple
rounds.</p>
</div>
  <h3 id="methods">Methods
</h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/planetarium/libplanet/new/main/apiSpec/new?filename=Libplanet_Net_Consensus_Context_AddMaj23_Libplanet_Consensus_Maj23_.md&amp;value=---%0Auid%3A%20Libplanet.Net.Consensus.Context.AddMaj23(Libplanet.Consensus.Maj23)%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/planetarium/libplanet/blob/main/Libplanet.Net/Consensus/Context.cs/#L289">View Source</a>
  </span>
  <a id="Libplanet_Net_Consensus_Context_AddMaj23_" data-uid="Libplanet.Net.Consensus.Context.AddMaj23*"></a>
  <h4 id="Libplanet_Net_Consensus_Context_AddMaj23_Libplanet_Consensus_Maj23_" data-uid="Libplanet.Net.Consensus.Context.AddMaj23(Libplanet.Consensus.Maj23)">AddMaj23(Maj23)</h4>
  <div class="markdown level1 summary"><p>Add a <a class="xref" href="Libplanet.Net.Messages.ConsensusMsg.html">ConsensusMsg</a> to the context.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public VoteSetBits AddMaj23(Maj23 maj23)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Libplanet.Consensus.Maj23.html">Maj23</a></td>
        <td><span class="parametername">maj23</span></td>
        <td><p>A <a class="xref" href="Libplanet.Net.Messages.ConsensusMsg.html">ConsensusMsg</a> to add.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Libplanet.Consensus.VoteSetBits.html">VoteSetBits</a></td>
        <td><p>A <a class="xref" href="Libplanet.Consensus.VoteSetBits.html">VoteSetBits</a> if given <code data-dev-comment-type="paramref" class="paramref">maj23</code> is valid and
required.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Libplanet_Net_Consensus_Context_AddMaj23_Libplanet_Consensus_Maj23__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>A <a class="xref" href="Libplanet.Net.Consensus.Context.html">Context</a> represents a consensus of a single height and its multiple
rounds.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/planetarium/libplanet/new/main/apiSpec/new?filename=Libplanet_Net_Consensus_Context_Dispose.md&amp;value=---%0Auid%3A%20Libplanet.Net.Consensus.Context.Dispose%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/planetarium/libplanet/blob/main/Libplanet.Net/Consensus/Context.cs/#L225">View Source</a>
  </span>
  <a id="Libplanet_Net_Consensus_Context_Dispose_" data-uid="Libplanet.Net.Consensus.Context.Dispose*"></a>
  <h4 id="Libplanet_Net_Consensus_Context_Dispose" data-uid="Libplanet.Net.Consensus.Context.Dispose">Dispose()</h4>
  <div class="markdown level1 summary"><p>A state machine class of PBFT consensus algorithm. The state machine is responsible for
proposing, validating, voting a block and committing the voted block to the blockchain.
There are five states:</p>
<ul><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Default">Default</a> which is the initial state when
the <a class="xref" href="Libplanet.Net.Consensus.Context.html#Libplanet_Net_Consensus_Context_Start_Libplanet_Types_Blocks_BlockCommit_">Start(BlockCommit)</a> is not called (i.e., round has not been started).
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Propose">Propose</a>, which is the state when
the round has been started and waiting for the block proposal. If a validator is a
proposer of the round, it will propose a block to the other validators and to
itself.
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a>, which is the state when a block
proposal for a round has been received. While translating to this step, state
machine votes for the block whether block is valid or not, and waiting for any +2/3
votes from other validators.
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreCommit">PreCommit</a>, which is the state received
any +2/3 votes in <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a>. While
translating to this step, state machine votes for whether the block should be
committed or not, and waiting for any +2/3 committing votes from other validators.
If <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreCommit">PreCommit</a>
receives +2/3 commit votes with NIL, starts new round <span class="xref">Libplanet.Net.Consensus.Context.StartRound(System.Int32)</span> and
moves step to <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Propose">Propose</a>.
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_EndCommit">EndCommit</a>, which is the state represents
committing vote has been received from other validators. Block will be committed
to the blockchain and consensus for this height is stopped. (responsibility of next
height handling is at <a class="xref" href="Libplanet.Net.Consensus.ConsensusContext.html">ConsensusContext</a>).
</li><li>
    In the above states, <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Propose">Propose</a>, If
    receiving proposal fails in <span class="xref">Libplanet.Net.Consensus.Context.TimeoutPropose(System.Int64)</span>, then step is moved to
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a> and vote NIL.
</li><li>
    Similar to Propose, <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a> and
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreCommit">PreCommit</a> also wait for
<span class="xref">Libplanet.Net.Consensus.Context.TimeoutPreVote(System.Int64)</span> or <span class="xref">Libplanet.Net.Consensus.Context.TimeoutPreCommit(System.Int64)</span> respectively,
if +2/3 vote received but neither NIL nor Block is not +2/3. If still +2/3 vote is
not received neither NIL nor Block after timeout runs out, then move to next step
and vote NIL.
</li></ul>
Validators are bonding/bonded nodes that participate in the consensus.
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Dispose()</code></pre>
  </div>
  <h5 id="Libplanet_Net_Consensus_Context_Dispose_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>A <a class="xref" href="Libplanet.Net.Consensus.Context.html">Context</a> represents a consensus of a single height and its multiple
rounds.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/planetarium/libplanet/new/main/apiSpec/new?filename=Libplanet_Net_Consensus_Context_GetBlockCommit.md&amp;value=---%0Auid%3A%20Libplanet.Net.Consensus.Context.GetBlockCommit%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/planetarium/libplanet/blob/main/Libplanet.Net/Consensus/Context.cs/#L238">View Source</a>
  </span>
  <a id="Libplanet_Net_Consensus_Context_GetBlockCommit_" data-uid="Libplanet.Net.Consensus.Context.GetBlockCommit*"></a>
  <h4 id="Libplanet_Net_Consensus_Context_GetBlockCommit" data-uid="Libplanet.Net.Consensus.Context.GetBlockCommit">GetBlockCommit()</h4>
  <div class="markdown level1 summary"><p>Returns a <a class="xref" href="Libplanet.Types.Blocks.BlockCommit.html">BlockCommit</a> if the context is committed.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public BlockCommit GetBlockCommit()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Libplanet.Types.Blocks.BlockCommit.html">BlockCommit</a></td>
        <td><p>Returns <a class="xref" href="Libplanet.Types.Blocks.BlockCommit.html">BlockCommit</a> if the context is committed
otherwise returns <span class="xref">null</span>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Libplanet_Net_Consensus_Context_GetBlockCommit_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>A <a class="xref" href="Libplanet.Net.Consensus.Context.html">Context</a> represents a consensus of a single height and its multiple
rounds.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/planetarium/libplanet/new/main/apiSpec/new?filename=Libplanet_Net_Consensus_Context_GetVoteSetBits_System_Int32_Libplanet_Types_Blocks_BlockHash_Libplanet_Types_Consensus_VoteFlag_.md&amp;value=---%0Auid%3A%20Libplanet.Net.Consensus.Context.GetVoteSetBits(System.Int32%2CLibplanet.Types.Blocks.BlockHash%2CLibplanet.Types.Consensus.VoteFlag)%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/planetarium/libplanet/blob/main/Libplanet.Net/Consensus/Context.cs/#L258">View Source</a>
  </span>
  <a id="Libplanet_Net_Consensus_Context_GetVoteSetBits_" data-uid="Libplanet.Net.Consensus.Context.GetVoteSetBits*"></a>
  <h4 id="Libplanet_Net_Consensus_Context_GetVoteSetBits_System_Int32_Libplanet_Types_Blocks_BlockHash_Libplanet_Types_Consensus_VoteFlag_" data-uid="Libplanet.Net.Consensus.Context.GetVoteSetBits(System.Int32,Libplanet.Types.Blocks.BlockHash,Libplanet.Types.Consensus.VoteFlag)">GetVoteSetBits(Int32, BlockHash, VoteFlag)</h4>
  <div class="markdown level1 summary"><p>A state machine class of PBFT consensus algorithm. The state machine is responsible for
proposing, validating, voting a block and committing the voted block to the blockchain.
There are five states:</p>
<ul><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Default">Default</a> which is the initial state when
the <a class="xref" href="Libplanet.Net.Consensus.Context.html#Libplanet_Net_Consensus_Context_Start_Libplanet_Types_Blocks_BlockCommit_">Start(BlockCommit)</a> is not called (i.e., round has not been started).
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Propose">Propose</a>, which is the state when
the round has been started and waiting for the block proposal. If a validator is a
proposer of the round, it will propose a block to the other validators and to
itself.
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a>, which is the state when a block
proposal for a round has been received. While translating to this step, state
machine votes for the block whether block is valid or not, and waiting for any +2/3
votes from other validators.
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreCommit">PreCommit</a>, which is the state received
any +2/3 votes in <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a>. While
translating to this step, state machine votes for whether the block should be
committed or not, and waiting for any +2/3 committing votes from other validators.
If <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreCommit">PreCommit</a>
receives +2/3 commit votes with NIL, starts new round <span class="xref">Libplanet.Net.Consensus.Context.StartRound(System.Int32)</span> and
moves step to <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Propose">Propose</a>.
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_EndCommit">EndCommit</a>, which is the state represents
committing vote has been received from other validators. Block will be committed
to the blockchain and consensus for this height is stopped. (responsibility of next
height handling is at <a class="xref" href="Libplanet.Net.Consensus.ConsensusContext.html">ConsensusContext</a>).
</li><li>
    In the above states, <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Propose">Propose</a>, If
    receiving proposal fails in <span class="xref">Libplanet.Net.Consensus.Context.TimeoutPropose(System.Int64)</span>, then step is moved to
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a> and vote NIL.
</li><li>
    Similar to Propose, <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a> and
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreCommit">PreCommit</a> also wait for
<span class="xref">Libplanet.Net.Consensus.Context.TimeoutPreVote(System.Int64)</span> or <span class="xref">Libplanet.Net.Consensus.Context.TimeoutPreCommit(System.Int64)</span> respectively,
if +2/3 vote received but neither NIL nor Block is not +2/3. If still +2/3 vote is
not received neither NIL nor Block after timeout runs out, then move to next step
and vote NIL.
</li></ul>
Validators are bonding/bonded nodes that participate in the consensus.
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public VoteSetBits GetVoteSetBits(int round, BlockHash blockHash, VoteFlag flag)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">Int32</a></td>
        <td><span class="parametername">round</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Libplanet.Types.Blocks.BlockHash.html">BlockHash</a></td>
        <td><span class="parametername">blockHash</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Libplanet.Types.Consensus.VoteFlag.html">VoteFlag</a></td>
        <td><span class="parametername">flag</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Libplanet.Consensus.VoteSetBits.html">VoteSetBits</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Libplanet_Net_Consensus_Context_GetVoteSetBits_System_Int32_Libplanet_Types_Blocks_BlockHash_Libplanet_Types_Consensus_VoteFlag__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>A <a class="xref" href="Libplanet.Net.Consensus.Context.html">Context</a> represents a consensus of a single height and its multiple
rounds.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/planetarium/libplanet/new/main/apiSpec/new?filename=Libplanet_Net_Consensus_Context_GetVoteSetBitsResponse_Libplanet_Consensus_VoteSetBits_.md&amp;value=---%0Auid%3A%20Libplanet.Net.Consensus.Context.GetVoteSetBitsResponse(Libplanet.Consensus.VoteSetBits)%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/planetarium/libplanet/blob/main/Libplanet.Net/Consensus/Context.cs/#L311">View Source</a>
  </span>
  <a id="Libplanet_Net_Consensus_Context_GetVoteSetBitsResponse_" data-uid="Libplanet.Net.Consensus.Context.GetVoteSetBitsResponse*"></a>
  <h4 id="Libplanet_Net_Consensus_Context_GetVoteSetBitsResponse_Libplanet_Consensus_VoteSetBits_" data-uid="Libplanet.Net.Consensus.Context.GetVoteSetBitsResponse(Libplanet.Consensus.VoteSetBits)">GetVoteSetBitsResponse(VoteSetBits)</h4>
  <div class="markdown level1 summary"><p>A state machine class of PBFT consensus algorithm. The state machine is responsible for
proposing, validating, voting a block and committing the voted block to the blockchain.
There are five states:</p>
<ul><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Default">Default</a> which is the initial state when
the <a class="xref" href="Libplanet.Net.Consensus.Context.html#Libplanet_Net_Consensus_Context_Start_Libplanet_Types_Blocks_BlockCommit_">Start(BlockCommit)</a> is not called (i.e., round has not been started).
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Propose">Propose</a>, which is the state when
the round has been started and waiting for the block proposal. If a validator is a
proposer of the round, it will propose a block to the other validators and to
itself.
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a>, which is the state when a block
proposal for a round has been received. While translating to this step, state
machine votes for the block whether block is valid or not, and waiting for any +2/3
votes from other validators.
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreCommit">PreCommit</a>, which is the state received
any +2/3 votes in <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a>. While
translating to this step, state machine votes for whether the block should be
committed or not, and waiting for any +2/3 committing votes from other validators.
If <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreCommit">PreCommit</a>
receives +2/3 commit votes with NIL, starts new round <span class="xref">Libplanet.Net.Consensus.Context.StartRound(System.Int32)</span> and
moves step to <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Propose">Propose</a>.
</li><li>
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_EndCommit">EndCommit</a>, which is the state represents
committing vote has been received from other validators. Block will be committed
to the blockchain and consensus for this height is stopped. (responsibility of next
height handling is at <a class="xref" href="Libplanet.Net.Consensus.ConsensusContext.html">ConsensusContext</a>).
</li><li>
    In the above states, <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_Propose">Propose</a>, If
    receiving proposal fails in <span class="xref">Libplanet.Net.Consensus.Context.TimeoutPropose(System.Int64)</span>, then step is moved to
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a> and vote NIL.
</li><li>
    Similar to Propose, <a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreVote">PreVote</a> and
<a class="xref" href="Libplanet.Net.Consensus.ConsensusStep.html#Libplanet_Net_Consensus_ConsensusStep_PreCommit">PreCommit</a> also wait for
<span class="xref">Libplanet.Net.Consensus.Context.TimeoutPreVote(System.Int64)</span> or <span class="xref">Libplanet.Net.Consensus.Context.TimeoutPreCommit(System.Int64)</span> respectively,
if +2/3 vote received but neither NIL nor Block is not +2/3. If still +2/3 vote is
not received neither NIL nor Block after timeout runs out, then move to next step
and vote NIL.
</li></ul>
Validators are bonding/bonded nodes that participate in the consensus.
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public IEnumerable&lt;ConsensusMsg&gt; GetVoteSetBitsResponse(VoteSetBits voteSetBits)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Libplanet.Consensus.VoteSetBits.html">VoteSetBits</a></td>
        <td><span class="parametername">voteSetBits</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1">IEnumerable</a>&lt;<a class="xref" href="Libplanet.Net.Messages.ConsensusMsg.html">ConsensusMsg</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Libplanet_Net_Consensus_Context_GetVoteSetBitsResponse_Libplanet_Consensus_VoteSetBits__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>A <a class="xref" href="Libplanet.Net.Consensus.Context.html">Context</a> represents a consensus of a single height and its multiple
rounds.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/planetarium/libplanet/new/main/apiSpec/new?filename=Libplanet_Net_Consensus_Context_Start_Libplanet_Types_Blocks_BlockCommit_.md&amp;value=---%0Auid%3A%20Libplanet.Net.Consensus.Context.Start(Libplanet.Types.Blocks.BlockCommit)%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/planetarium/libplanet/blob/main/Libplanet.Net/Consensus/Context.Async.cs/#L16">View Source</a>
  </span>
  <a id="Libplanet_Net_Consensus_Context_Start_" data-uid="Libplanet.Net.Consensus.Context.Start*"></a>
  <h4 id="Libplanet_Net_Consensus_Context_Start_Libplanet_Types_Blocks_BlockCommit_" data-uid="Libplanet.Net.Consensus.Context.Start(Libplanet.Types.Blocks.BlockCommit)">Start(BlockCommit)</h4>
  <div class="markdown level1 summary"><p>Starts round #0 of consensus for <a class="xref" href="Libplanet.Net.Consensus.Context.html#Libplanet_Net_Consensus_Context_Height">Height</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Start(BlockCommit lastCommit = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Libplanet.Types.Blocks.BlockCommit.html">BlockCommit</a></td>
        <td><span class="parametername">lastCommit</span></td>
        <td><p>A <a class="xref" href="Libplanet.Types.Blocks.Block.html#Libplanet_Types_Blocks_Block_LastCommit">LastCommit</a> from previous block.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Libplanet_Net_Consensus_Context_Start_Libplanet_Types_Blocks_BlockCommit__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>A <a class="xref" href="Libplanet.Net.Consensus.Context.html">Context</a> represents a consensus of a single height and its multiple
rounds.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/planetarium/libplanet/new/main/apiSpec/new?filename=Libplanet_Net_Consensus_Context_ToString.md&amp;value=---%0Auid%3A%20Libplanet.Net.Consensus.Context.ToString%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/planetarium/libplanet/blob/main/Libplanet.Net/Consensus/Context.cs/#L355">View Source</a>
  </span>
  <a id="Libplanet_Net_Consensus_Context_ToString_" data-uid="Libplanet.Net.Consensus.Context.ToString*"></a>
  <h4 id="Libplanet_Net_Consensus_Context_ToString" data-uid="Libplanet.Net.Consensus.Context.ToString">ToString()</h4>
  <div class="markdown level1 summary"><p>Returns the summary of context in JSON-formatted string.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override string ToString()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><p>Returns a JSON-formatted string of context state.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="overrides">Overrides</h5>
  <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring#system-object-tostring">Object.ToString()</a></div>
  <h5 id="Libplanet_Net_Consensus_Context_ToString_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>A <a class="xref" href="Libplanet.Net.Consensus.Context.html">Context</a> represents a consensus of a single height and its multiple
rounds.</p>
</div>
  <h3 id="implements">Implements</h3>
  <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable">System.IDisposable</a>
  </div>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/planetarium/libplanet/new/main/apiSpec/new?filename=Libplanet_Net_Consensus_Context.md&amp;value=---%0Auid%3A%20Libplanet.Net.Consensus.Context%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Improve this Doc</a>
                  </li>
                  <li>
                    <a href="https://github.com/planetarium/libplanet/blob/main/Libplanet.Net/Consensus/Context.Mutate.cs/#L15" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      Copyright © 2018–2023 <a href="https://planetariumhq.com/">Planetarium</a>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
